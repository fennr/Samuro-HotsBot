{"version":"60400","data":{"id":"d8186628-e175-4889-ab9c-79e8d964c6f3","offsetX":132.21570386492644,"offsetY":20.628053475676648,"zoom":86.26510657866794,"gridSize":15,"layers":[{"id":"aba8a671-4951-43c4-b6b8-4a62b9b404f2","type":"diagram-links","isSvg":true,"transformed":true,"models":{"274ebd01-9191-45d8-ad6c-2e3c7dbad49f":{"id":"274ebd01-9191-45d8-ad6c-2e3c7dbad49f","locked":true,"type":"onetomany","selected":false,"source":"4eee255e-1a79-47ac-bc4b-5b71ac80c1f2","sourcePort":"a00bdbdc-eb24-4425-ab3c-1672dc244374","target":"f9e887ba-8293-42d1-9b2e-67b8f9fa1640","targetPort":"f61a58bf-8d2f-403f-84e9-7bd046b8bcaa","points":[{"id":"e88c1bb7-151c-46a6-a951-719fe6f4e181","type":"point","x":398.9999865608047,"y":626.3999805862472},{"id":"0692da13-fb70-4d08-8a1d-a91c8002b5f2","type":"point","x":399.27151954248,"y":626.3999805862472},{"id":"86ad0cf5-3910-44d7-b648-79d5835a047d","type":"point","x":399.27151954248,"y":481.2030378897291},{"id":"35ad004f-a12c-4c61-820b-f094248193f4","type":"point","x":189.00000516801617,"y":481.2030378897291},{"id":"302ceb76-b801-4153-9e9a-1ce9af0cc890","type":"point","x":189.00000516801617,"y":560.4000197892167}],"labels":[],"width":1,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)","data":{"local_table_uid":"f9e887ba-8293-42d1-9b2e-67b8f9fa1640","local_column_attnum":6,"referenced_table_uid":"4eee255e-1a79-47ac-bc4b-5b71ac80c1f2","referenced_column_attnum":0}},"69ae9e60-318b-4a25-84f5-3fbfd9a56940":{"id":"69ae9e60-318b-4a25-84f5-3fbfd9a56940","locked":true,"type":"onetomany","source":"f9e887ba-8293-42d1-9b2e-67b8f9fa1640","sourcePort":"5e99fa55-07ce-4777-95a0-c0e9e02f93f7","target":"caddb68e-31b9-4bd4-87b5-63cfe7ed2c9d","targetPort":"5ba87cb1-f33c-4826-9607-f15823c75dbc","points":[{"id":"5b850ef8-05e2-4b39-a607-ed887077ad81","type":"point","x":189.00000516801617,"y":415.400046956114},{"id":"5f045f67-b7fb-473a-b79c-5738f834d8e5","type":"point","x":189.00000516801617,"y":86.40001401826513},{"id":"e209f317-c1dc-4a5a-91ee-3faa3a70c7c1","type":"point","x":189.00000516801617,"y":86.40000063753864}],"labels":[],"width":1,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)","data":{"local_table_uid":"caddb68e-31b9-4bd4-87b5-63cfe7ed2c9d","local_column_attnum":0,"referenced_table_uid":"f9e887ba-8293-42d1-9b2e-67b8f9fa1640","referenced_column_attnum":1}},"16285a63-6d9e-469c-8265-177a4058ccb1":{"id":"16285a63-6d9e-469c-8265-177a4058ccb1","locked":true,"type":"onetomany","source":"06442f54-2b0a-4265-b0a9-fb096251d2ed","sourcePort":"5e319d48-d326-4d32-8017-60a53fec4f39","target":"dac7954d-56a5-4357-a0c9-7c3d5a77f93a","targetPort":"0fc8319e-8a97-43a9-9024-1c5864ec1e43","points":[{"id":"ab7a282c-0b42-4d1b-91b5-8490ec16476d","type":"point","x":429.00000411777626,"y":385.39999402263925},{"id":"676551e9-3ad8-490f-9bc1-028a4d8f44e6","type":"point","x":429.00000411777626,"y":175.4000126298508},{"id":"fd89771a-8efb-4ec7-8102-a2ad5b8cf8ea","type":"point","x":429.00000411777626,"y":175.4000126298508}],"labels":[],"width":1,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)","data":{"local_table_uid":"dac7954d-56a5-4357-a0c9-7c3d5a77f93a","local_column_attnum":1,"referenced_table_uid":"06442f54-2b0a-4265-b0a9-fb096251d2ed","referenced_column_attnum":1}}}},{"id":"f5d08e09-69cb-4725-9440-869f2c520546","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"f9e887ba-8293-42d1-9b2e-67b8f9fa1640":{"id":"f9e887ba-8293-42d1-9b2e-67b8f9fa1640","type":"table","selected":false,"x":-15,"y":285,"ports":[{"id":"f61a58bf-8d2f-403f-84e9-7bd046b8bcaa","type":"onetomany","x":159.00000516801617,"y":560.4000197892167,"name":"coll-port-6","alignment":"right","parentNode":"f9e887ba-8293-42d1-9b2e-67b8f9fa1640","links":["274ebd01-9191-45d8-ad6c-2e3c7dbad49f"],"subtype":"many"},{"id":"5e99fa55-07ce-4777-95a0-c0e9e02f93f7","type":"onetomany","x":159.00000516801617,"y":415.400046956114,"name":"coll-port-1","alignment":"right","parentNode":"f9e887ba-8293-42d1-9b2e-67b8f9fa1640","links":["69ae9e60-318b-4a25-84f5-3fbfd9a56940"],"subtype":"one"}],"name":"Untitled","color":"rgb(0,192,255)","portsInOrder":[],"portsOutOrder":["f61a58bf-8d2f-403f-84e9-7bd046b8bcaa","5e99fa55-07ce-4777-95a0-c0e9e02f93f7"],"otherInfo":{"data":{"name":"Players","description":"Таблица связей дискорд-батлнет и личных данных единых на все сервера","coll_inherits":[],"hastoasttable":true,"toast_autovacuum_enabled":"x","autovacuum_enabled":"x","primary_key":[{"name":"id_key","comment":"","columns":[{"column":"id","cid":"c68"}],"include":[],"cid":"c67"}],"foreign_key":[{"name":"team_key","comment":"","confmatchtype":false,"autoindex":false,"coveringindex":"","columns":[{"local_column":"team","referenced":"team_id","references":"4eee255e-1a79-47ac-bc4b-5b71ac80c1f2","references_table_name":"(public) teams","cid":"c70"}],"confupdtype":"n","confdeltype":"n","cid":"c69"}],"partition_keys":[],"partitions":[],"partition_type":"range","is_partitioned":false,"columns":[{"name":"btag","is_primary_key":false,"attnum":0,"cltype":"battletag","attlen":null,"attprecision":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c71","min_val_attlen":1,"max_val_attlen":2147483647},{"name":"id","is_primary_key":true,"attnum":1,"cltype":"discord_id","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c72"},{"name":"guild_id","is_primary_key":false,"attnum":2,"cltype":"guild_id","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c73"},{"name":"mmr","is_primary_key":false,"attnum":3,"cltype":"integer","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c74"},{"name":"league","is_primary_key":false,"attnum":4,"cltype":"league_type","attlen":null,"attprecision":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c75","min_val_attlen":1,"max_val_attlen":2147483647,"collspcname":null},{"name":"division","is_primary_key":false,"attnum":5,"cltype":"integer","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c76"},{"name":"team","is_primary_key":false,"attnum":6,"cltype":"integer","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c77"}],"schema":"public"},"note":"","metadata":{"data_failed":false,"is_promise":false}}},"caddb68e-31b9-4bd4-87b5-63cfe7ed2c9d":{"id":"caddb68e-31b9-4bd4-87b5-63cfe7ed2c9d","type":"table","selected":false,"x":-15,"y":-15,"ports":[{"id":"5ba87cb1-f33c-4826-9607-f15823c75dbc","type":"onetomany","x":159.00000516801617,"y":86.40000063753864,"name":"coll-port-0","alignment":"right","parentNode":"caddb68e-31b9-4bd4-87b5-63cfe7ed2c9d","links":["69ae9e60-318b-4a25-84f5-3fbfd9a56940"],"subtype":"one"},{"id":"be46dfa0-64a2-45e9-ae7a-d57edde7b198","type":"onetomany","x":159.00000516801617,"y":115.40001289241076,"name":"coll-port-1","alignment":"right","parentNode":"caddb68e-31b9-4bd4-87b5-63cfe7ed2c9d","links":[],"subtype":"many"}],"name":"Untitled","color":"rgb(0,192,255)","portsInOrder":[],"portsOutOrder":["5ba87cb1-f33c-4826-9607-f15823c75dbc","be46dfa0-64a2-45e9-ae7a-d57edde7b198"],"otherInfo":{"data":{"name":"UserStats","description":"Данные о победах и поражениях по каждому серверу","coll_inherits":[],"hastoasttable":true,"toast_autovacuum_enabled":"x","autovacuum_enabled":"x","primary_key":[{"name":"id","columns":[{"column":"id","cid":"c114"},{"column":"guild_id","cid":"c115"}],"include":[],"cid":"c113"}],"foreign_key":[{"name":"id_key","confmatchtype":false,"autoindex":false,"coveringindex":"","columns":[{"local_column":"id","referenced":"id","references":"f9e887ba-8293-42d1-9b2e-67b8f9fa1640","references_table_name":"(public) players","cid":"c117"}],"confupdtype":"c","confdeltype":"c","cid":"c116"}],"partition_keys":[],"partitions":[],"partition_type":"range","is_partitioned":false,"columns":[{"name":"id","is_primary_key":true,"attnum":0,"cltype":"discord_id","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c118"},{"name":"guild_id","is_primary_key":true,"attnum":1,"cltype":"guild_id","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c119"},{"name":"win","is_primary_key":false,"attnum":2,"cltype":"integer","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c120"},{"name":"lose","is_primary_key":false,"attnum":3,"cltype":"integer","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c121"},{"name":"points","is_primary_key":false,"attnum":5,"cltype":"integer","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c122"},{"name":"btag","is_primary_key":false,"attnum":6,"cltype":"battletag","attlen":null,"attprecision":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c123"}],"schema":"public"},"note":"","metadata":{"data_failed":false,"is_promise":false}}},"4eee255e-1a79-47ac-bc4b-5b71ac80c1f2":{"id":"4eee255e-1a79-47ac-bc4b-5b71ac80c1f2","type":"table","selected":false,"x":195,"y":525,"ports":[{"id":"a00bdbdc-eb24-4425-ab3c-1672dc244374","type":"onetomany","x":368.9999865608047,"y":626.3999805862472,"name":"coll-port-0","alignment":"right","parentNode":"4eee255e-1a79-47ac-bc4b-5b71ac80c1f2","links":["274ebd01-9191-45d8-ad6c-2e3c7dbad49f"],"subtype":"many"}],"name":"Untitled","color":"rgb(0,192,255)","portsInOrder":[],"portsOutOrder":["a00bdbdc-eb24-4425-ab3c-1672dc244374"],"otherInfo":{"data":{"name":"Teams","description":"Таблица с данными команд","coll_inherits":[],"hastoasttable":true,"toast_autovacuum_enabled":"x","autovacuum_enabled":"x","primary_key":[{"columns":[{"column":"team_id","cid":"c138"}],"include":[],"cid":"c137"}],"foreign_key":[],"partition_keys":[],"partitions":[],"partition_type":"range","is_partitioned":false,"columns":[{"name":"team_id","is_primary_key":true,"attnum":0,"cltype":"serial","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c139"},{"name":"name","is_primary_key":false,"attnum":1,"cltype":"character varying","attlen":null,"attprecision":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c140","min_val_attlen":1,"max_val_attlen":2147483647},{"name":"leader","is_primary_key":false,"attnum":2,"cltype":"character varying","attlen":null,"attprecision":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c141","min_val_attlen":1,"max_val_attlen":2147483647},{"name":"members","is_primary_key":false,"attnum":3,"cltype":"integer","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c142"},{"name":"points","is_primary_key":false,"attnum":4,"cltype":"integer","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c143"}],"schema":"public"},"note":"","metadata":{"data_failed":false,"is_promise":false}}},"227c8d12-3954-43f4-8357-f04611bc2f60":{"id":"227c8d12-3954-43f4-8357-f04611bc2f60","type":"table","selected":false,"x":495,"y":75,"ports":[],"name":"Untitled","color":"rgb(0,192,255)","portsInOrder":[],"portsOutOrder":[],"otherInfo":{"data":{"name":"EventHistory","description":"Таблица проведенных ивентов","coll_inherits":[],"hastoasttable":true,"toast_autovacuum_enabled":"x","autovacuum_enabled":"x","primary_key":[],"foreign_key":[],"partition_keys":[],"partitions":[],"partition_type":"range","is_partitioned":false,"columns":[{"name":"time","is_primary_key":false,"attnum":0,"cltype":"timestamp without time zone","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c157","min_val_attlen":0,"max_val_attlen":6},{"name":"guild_id","is_primary_key":false,"attnum":1,"cltype":"guild_id","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c158"},{"name":"winner","is_primary_key":false,"attnum":2,"cltype":"winner_type","attlen":null,"attprecision":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c159","min_val_attlen":1,"max_val_attlen":2147483647,"collspcname":null},{"name":"active","is_primary_key":false,"attnum":3,"cltype":"boolean","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c160"},{"name":"blue1","is_primary_key":false,"attnum":4,"cltype":"battletag","attlen":null,"attprecision":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c161"},{"name":"blue2","is_primary_key":false,"attnum":5,"cltype":"battletag","attlen":null,"attprecision":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c162"},{"name":"blue3","is_primary_key":false,"attnum":6,"cltype":"battletag","attlen":null,"attprecision":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c163"},{"name":"blue4","is_primary_key":false,"attnum":7,"cltype":"battletag","attlen":null,"attprecision":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c164"},{"name":"blue5","is_primary_key":false,"attnum":8,"cltype":"battletag","attlen":null,"attprecision":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c165"},{"name":"red1","is_primary_key":false,"attnum":9,"cltype":"battletag","attlen":null,"attprecision":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c166"},{"name":"red2","is_primary_key":false,"attnum":10,"cltype":"battletag","attlen":null,"attprecision":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c167"},{"name":"red3","is_primary_key":false,"attnum":11,"cltype":"battletag","attlen":null,"attprecision":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c168"},{"name":"red4","is_primary_key":false,"attnum":12,"cltype":"battletag","attlen":null,"attprecision":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c169"},{"name":"red5","is_primary_key":false,"attnum":13,"cltype":"battletag","attlen":null,"attprecision":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c170"},{"name":"event_id","is_primary_key":false,"attnum":14,"cltype":"serial","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c171"},{"name":"room_id","is_primary_key":false,"attnum":15,"cltype":"bigint","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c172"},{"name":"delta_mmr","is_primary_key":false,"attnum":16,"cltype":"integer","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c173"},{"name":"points","is_primary_key":false,"attnum":17,"cltype":"integer","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c174"},{"name":"admin","is_primary_key":false,"attnum":18,"cltype":"character varying","attlen":null,"attprecision":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c175","min_val_attlen":1,"max_val_attlen":2147483647}],"schema":"public"},"note":"","metadata":{"data_failed":false,"is_promise":false}}},"06442f54-2b0a-4265-b0a9-fb096251d2ed":{"id":"06442f54-2b0a-4265-b0a9-fb096251d2ed","type":"table","selected":false,"x":225,"y":255,"ports":[{"id":"5e319d48-d326-4d32-8017-60a53fec4f39","type":"onetomany","x":399.00000411777626,"y":385.39999402263925,"name":"coll-port-1","alignment":"right","parentNode":"06442f54-2b0a-4265-b0a9-fb096251d2ed","links":["16285a63-6d9e-469c-8265-177a4058ccb1"],"subtype":"one"}],"name":"Untitled","color":"rgb(0,192,255)","portsInOrder":[],"portsOutOrder":["5e319d48-d326-4d32-8017-60a53fec4f39"],"otherInfo":{"data":{"name":"Achievements","description":"Таблица существующих достижений","coll_inherits":[],"hastoasttable":true,"toast_autovacuum_enabled":"x","autovacuum_enabled":"x","primary_key":[{"columns":[{"column":"achiev_id","cid":"c190"},{"column":"guild_id","cid":"c191"}],"include":[],"cid":"c189"}],"foreign_key":[],"partition_keys":[],"partitions":[],"partition_type":"range","is_partitioned":false,"columns":[{"name":"achiev_id","is_primary_key":true,"attnum":0,"cltype":"serial","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c192"},{"name":"guild_id","is_primary_key":true,"attnum":1,"cltype":"guild_id","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c193"},{"name":"name","is_primary_key":false,"attnum":2,"cltype":"character varying","attlen":null,"attprecision":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c194","min_val_attlen":1,"max_val_attlen":2147483647}],"schema":"public"},"note":"","metadata":{"data_failed":false,"is_promise":false}}},"dac7954d-56a5-4357-a0c9-7c3d5a77f93a":{"id":"dac7954d-56a5-4357-a0c9-7c3d5a77f93a","type":"table","selected":true,"x":225,"y":45,"ports":[{"id":"0fc8319e-8a97-43a9-9024-1c5864ec1e43","type":"onetomany","x":399.00000411777626,"y":175.4000126298508,"name":"coll-port-1","alignment":"right","parentNode":"dac7954d-56a5-4357-a0c9-7c3d5a77f93a","links":["16285a63-6d9e-469c-8265-177a4058ccb1"],"subtype":"many"}],"name":"Untitled","color":"rgb(0,192,255)","portsInOrder":[],"portsOutOrder":["0fc8319e-8a97-43a9-9024-1c5864ec1e43"],"otherInfo":{"data":{"name":"UserAchievents","description":"Связи между игроком и достижениями","coll_inherits":[],"hastoasttable":true,"toast_autovacuum_enabled":"x","autovacuum_enabled":"x","primary_key":[],"foreign_key":[{"name":"stats_key","confmatchtype":false,"autoindex":false,"coveringindex":"","columns":[{"local_column":"id","referenced":"id","references":"caddb68e-31b9-4bd4-87b5-63cfe7ed2c9d","references_table_name":"(public) UserStats","cid":"c245"},{"local_column":"guild_id","referenced":"guild_id","references_table_name":"(public) UserStats","cid":"c246"}],"confupdtype":"c","confdeltype":"c","cid":"c244"},{"name":"achive_key","comment":"","confmatchtype":false,"autoindex":false,"coveringindex":"","columns":[{"local_column":"guild_id","referenced":"guild_id","references":"06442f54-2b0a-4265-b0a9-fb096251d2ed","references_table_name":"(public) Achievements","cid":"c248"},{"local_column":"achievement","referenced":"achiev_id","references_table_name":"(public) Achievements","cid":"c249"}],"confupdtype":"c","confdeltype":"c","cid":"c247"}],"partition_keys":[],"partitions":[],"partition_type":"range","is_partitioned":false,"columns":[{"name":"id","is_primary_key":false,"attnum":0,"cltype":"discord_id","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c250"},{"name":"guild_id","is_primary_key":false,"attnum":1,"cltype":"guild_id","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c251"},{"name":"achievement","is_primary_key":false,"attnum":2,"cltype":"integer","attlen":null,"attprecision":null,"collspcname":null,"attnotnull":false,"colconstype":"n","attidentity":"a","attoptions":[],"cid":"c252"}],"schema":"public"},"note":"","metadata":{"data_failed":false,"is_promise":false}}}}}]}}